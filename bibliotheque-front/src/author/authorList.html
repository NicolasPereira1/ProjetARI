<!DOCTYPE html>
<html lang="fr">

<head>
    <title>Author</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
</head>

<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Home</a>
            <button class="navbar-toggler" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="/authorList">Author</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/readerList">Reader</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/bookList">Book</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled">Admin</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<body>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Firstname</th>
                <th scope="col">Lastname</th>
            </tr>
        </thead>
        <tbody id="tbodyId">
        </tbody>
    </table>
    <a href="/authorForm"><button style="font-weight: bold; position: absolute; right: 3em;"
            class="btn btn-outline-dark rounded-circle">+</button></a>
    <script>
        window.onload = function fillTable() {
            const xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", "http://localhost:8080/api/v1/author", false);
            xmlHttp.send(null);
            const tbody = document.getElementById("tbodyId");
            const data = JSON.parse(xmlHttp.responseText);
            for (let i = 0; i < data.length; i++) {
                tbody.innerHTML = tbody.innerHTML + "<tr><th scope='row'>" + data[i]["id"] + "</th><td>" + data[i]["firstname"] + "</td><td>" + data[i]["lastname"] + "</td></tr>";
            }
        }
    </script>
</body>

</html>